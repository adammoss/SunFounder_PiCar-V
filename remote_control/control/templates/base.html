{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

    <title>{% block title %} Home {% endblock %}</title>

    <!-- Required Stylesheets -->
    <link
            type="text/css"
            rel="stylesheet"
            href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css"
    />
    <link
            type="text/css"
            rel="stylesheet"
            href="//unpkg.com/bootstrap-vue@2.4.0/dist/bootstrap-vue.css"
    />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/vue-slider-component@3.1.0/theme/default.css">


    <!-- Load polyfills to support older browsers -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver"></script>

    <!-- Required scripts -->
    <script src="//unpkg.com/vue@2.6.10/dist/vue.js"></script>
    <script src="//unpkg.com/bootstrap-vue@2.4.0/dist/bootstrap-vue.js"></script>
    <script src="//cdn.jsdelivr.net/npm/vue-slider-component@3.1.0/dist/vue-slider-component.umd.min.js"></script>
    <script src="//unpkg.com/axios@0.19.0/dist/axios.min.js"></script>


</head>
<body>

<style type="text/css">
    .caption {
        text-align: center;
    }
    .disable-dbl-tap-zoom {
        touch-action: manipulation;
    }
    h6 {
        font-size: 1.25rem;
    }
</style>

<div id="app">

    <b-navbar toggleable="lg" type="dark" variant="primary">
        <b-navbar-brand href="/">MLiS</b-navbar-brand>

        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

        <b-collapse id="nav-collapse" is-nav>
            <b-navbar-nav>
                <b-nav-item href="/">Home</b-nav-item>
                <b-nav-item href="/control/">Control</b-nav-item>
                <b-nav-item href="/calibration/">Calibration</b-nav-item>
                <b-nav-item href="/about/">About</b-nav-item>
            </b-navbar-nav>

        </b-collapse>
    </b-navbar>

    {% block content %}

    <b-container>

        <b-row>

            <b-card-group>

                <b-card
                        header="Welcome to MLiS2!"
                        border-variant="primary"
                        header-bg-variant="primary"
                        header-text-variant="white"
                        class="m-4"
                >
                    <b-card-text>
                        If you can see the image your camera is working correctly.
                        Using this browser interface you can:
                    </b-card-text>
                    <b-list-group flush>
                        <b-list-group-item>Manually drive your car</b-list-group-item>
                        <b-list-group-item>Start and stop recordings</b-list-group-item>
                        <b-list-group-item>Start and stop self-driving</b-list-group-item>
                        <b-list-group-item>Calibrate your car</b-list-group-item>
                    </b-list-group>
                </b-card>

                <b-card overlay :img-src="getImageURL()" bg-variant="light" class="m-4">
                </b-card>

            </b-card-group>

        </b-row>

    </b-container>

    {% endblock %}

</div>

{% block app %}

<script>
    window.app = new Vue({
        el: '#app',
        methods: {
             getImageURL() {
                const today = new Date().getTime();
                return '/stream/'
            }
        }
    })
</script>

{% endblock %}

</body>
</html>
